# 第一章 企业微信

本章介绍了企业微信模块(mommy_wework)的用法与功能，需要的同学请联系作者获取。

## 模块安装与应用配置

本模块依赖于python第三方库wechatpy和autils, 使用如下的命令进行安装:

```sh
pip install wechatpy
pip install autils
```

### 设置权限

默认情况下，用户不具备企业微信的任何权限，需要在用户设置-企业微信权限处选择合适的权限。

![]()

### 应用设置

想要创建一个企业微信应用，我们需要在企业微信中创建一个app， 然后获取到如下参数:

* 公司ID: 企业微信的公司ID(唯一)
* AgentID: 应用的ID
* Secret: 应用的密钥

然后将这三个参数填入创建的应用设置中：

![]()

然后我们在公司设置中，选择我们刚才创建的应用。

![]()

## 功能介绍

企业微信拥有很多的适用场景，接下来我们就看一下本模块能够做到的功能：

### 同步部门

首先，我们可以将企业微信的部门同步到odoo的部门中。

### 同步员工

### Oauth扫码登录

在设置-用户-Oauth提供商中打开企业微信:

![]()

然后填入以下两个参数:

* CorpID: 公司ID
* Client ID: AgentID

然后勾选允许。

我们返回登录界面就可以看到拥有企业微信登录的选项了。

![]()

如果我们扫码的企业微信用户关联的odoo用户，那么系统将会自动跳转登录到odoo系统。