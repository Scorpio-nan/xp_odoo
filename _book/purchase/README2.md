# 第二章 成本计算逻辑

## 收货入库

如果产品设置的成本计算方法为平均价格, 那么当产品采购入库以后,系统会根据本次采购的价值加上系统中原有的库存价值, 除以入库后的总数量来计算平均价格. 即:

平均价格 = (采购价格 * 采购数量 + 原平均价格 * 库存) / 入库后的库存数量

### 库存核算层

虽然逻辑上可以用上面的公式来进行计算, 但实际过程中

